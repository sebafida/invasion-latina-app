{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"../cancel/CanceledError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":55,"index":55}}],"key":"CwBlF2VEcm6oEjVVtIBjzbl3F8o=","exportNames":["*"]}},{"name":"../core/AxiosError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":56},"end":{"line":2,"column":47,"index":103}}],"key":"hOxld1Hs3dl/ep5YdqPz+tKeqSo=","exportNames":["*"]}},{"name":"../utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":32,"index":136}}],"key":"dGswK136diHRCgUa8xpQUn/UMbc=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _CanceledError = _interopRequireDefault(require(_dependencyMap[1], \"../cancel/CanceledError.js\"));\n  var _AxiosError = _interopRequireDefault(require(_dependencyMap[2], \"../core/AxiosError.js\"));\n  var _utils = _interopRequireDefault(require(_dependencyMap[3], \"../utils.js\"));\n  const composeSignals = (signals, timeout) => {\n    const {\n      length\n    } = signals = signals ? signals.filter(Boolean) : [];\n    if (timeout || length) {\n      let controller = new AbortController();\n      let aborted;\n      const onabort = function (reason) {\n        if (!aborted) {\n          aborted = true;\n          unsubscribe();\n          const err = reason instanceof Error ? reason : this.reason;\n          controller.abort(err instanceof _AxiosError.default ? err : new _CanceledError.default(err instanceof Error ? err.message : err));\n        }\n      };\n      let timer = timeout && setTimeout(() => {\n        timer = null;\n        onabort(new _AxiosError.default(`timeout of ${timeout}ms exceeded`, _AxiosError.default.ETIMEDOUT));\n      }, timeout);\n      const unsubscribe = () => {\n        if (signals) {\n          timer && clearTimeout(timer);\n          timer = null;\n          signals.forEach(signal => {\n            signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n          });\n          signals = null;\n        }\n      };\n      signals.forEach(signal => signal.addEventListener('abort', onabort));\n      const {\n        signal\n      } = controller;\n      signal.unsubscribe = () => _utils.default.asap(unsubscribe);\n      return signal;\n    }\n  };\n  var _default = exports.default = composeSignals;\n});","lineCount":48,"map":[[7,2,1,0],[7,6,1,0,"_CanceledError"],[7,20,1,0],[7,23,1,0,"_interopRequireDefault"],[7,45,1,0],[7,46,1,0,"require"],[7,53,1,0],[7,54,1,0,"_dependencyMap"],[7,68,1,0],[8,2,2,0],[8,6,2,0,"_AxiosError"],[8,17,2,0],[8,20,2,0,"_interopRequireDefault"],[8,42,2,0],[8,43,2,0,"require"],[8,50,2,0],[8,51,2,0,"_dependencyMap"],[8,65,2,0],[9,2,3,0],[9,6,3,0,"_utils"],[9,12,3,0],[9,15,3,0,"_interopRequireDefault"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,5,0],[10,8,5,6,"composeSignals"],[10,22,5,20],[10,25,5,23,"composeSignals"],[10,26,5,24,"signals"],[10,33,5,31],[10,35,5,33,"timeout"],[10,42,5,40],[10,47,5,45],[11,4,6,2],[11,10,6,8],[12,6,6,9,"length"],[13,4,6,15],[13,5,6,16],[13,8,6,20,"signals"],[13,15,6,27],[13,18,6,30,"signals"],[13,25,6,37],[13,28,6,40,"signals"],[13,35,6,47],[13,36,6,48,"filter"],[13,42,6,54],[13,43,6,55,"Boolean"],[13,50,6,62],[13,51,6,63],[13,54,6,66],[13,56,6,69],[14,4,8,2],[14,8,8,6,"timeout"],[14,15,8,13],[14,19,8,17,"length"],[14,25,8,23],[14,27,8,25],[15,6,9,4],[15,10,9,8,"controller"],[15,20,9,18],[15,23,9,21],[15,27,9,25,"AbortController"],[15,42,9,40],[15,43,9,41],[15,44,9,42],[16,6,11,4],[16,10,11,8,"aborted"],[16,17,11,15],[17,6,13,4],[17,12,13,10,"onabort"],[17,19,13,17],[17,22,13,20],[17,31,13,20,"onabort"],[17,32,13,30,"reason"],[17,38,13,36],[17,40,13,38],[18,8,14,6],[18,12,14,10],[18,13,14,11,"aborted"],[18,20,14,18],[18,22,14,20],[19,10,15,8,"aborted"],[19,17,15,15],[19,20,15,18],[19,24,15,22],[20,10,16,8,"unsubscribe"],[20,21,16,19],[20,22,16,20],[20,23,16,21],[21,10,17,8],[21,16,17,14,"err"],[21,19,17,17],[21,22,17,20,"reason"],[21,28,17,26],[21,40,17,38,"Error"],[21,45,17,43],[21,48,17,46,"reason"],[21,54,17,52],[21,57,17,55],[21,61,17,59],[21,62,17,60,"reason"],[21,68,17,66],[22,10,18,8,"controller"],[22,20,18,18],[22,21,18,19,"abort"],[22,26,18,24],[22,27,18,25,"err"],[22,30,18,28],[22,42,18,40,"AxiosError"],[22,61,18,50],[22,64,18,53,"err"],[22,67,18,56],[22,70,18,59],[22,74,18,63,"CanceledError"],[22,96,18,76],[22,97,18,77,"err"],[22,100,18,80],[22,112,18,92,"Error"],[22,117,18,97],[22,120,18,100,"err"],[22,123,18,103],[22,124,18,104,"message"],[22,131,18,111],[22,134,18,114,"err"],[22,137,18,117],[22,138,18,118],[22,139,18,119],[23,8,19,6],[24,6,20,4],[24,7,20,5],[25,6,22,4],[25,10,22,8,"timer"],[25,15,22,13],[25,18,22,16,"timeout"],[25,25,22,23],[25,29,22,27,"setTimeout"],[25,39,22,37],[25,40,22,38],[25,46,22,44],[26,8,23,6,"timer"],[26,13,23,11],[26,16,23,14],[26,20,23,18],[27,8,24,6,"onabort"],[27,15,24,13],[27,16,24,14],[27,20,24,18,"AxiosError"],[27,39,24,28],[27,40,24,29],[27,54,24,43,"timeout"],[27,61,24,50],[27,74,24,63],[27,76,24,65,"AxiosError"],[27,95,24,75],[27,96,24,76,"ETIMEDOUT"],[27,105,24,85],[27,106,24,86],[27,107,24,87],[28,6,25,4],[28,7,25,5],[28,9,25,7,"timeout"],[28,16,25,14],[28,17,25,15],[29,6,27,4],[29,12,27,10,"unsubscribe"],[29,23,27,21],[29,26,27,24,"unsubscribe"],[29,27,27,24],[29,32,27,30],[30,8,28,6],[30,12,28,10,"signals"],[30,19,28,17],[30,21,28,19],[31,10,29,8,"timer"],[31,15,29,13],[31,19,29,17,"clearTimeout"],[31,31,29,29],[31,32,29,30,"timer"],[31,37,29,35],[31,38,29,36],[32,10,30,8,"timer"],[32,15,30,13],[32,18,30,16],[32,22,30,20],[33,10,31,8,"signals"],[33,17,31,15],[33,18,31,16,"forEach"],[33,25,31,23],[33,26,31,24,"signal"],[33,32,31,30],[33,36,31,34],[34,12,32,10,"signal"],[34,18,32,16],[34,19,32,17,"unsubscribe"],[34,30,32,28],[34,33,32,31,"signal"],[34,39,32,37],[34,40,32,38,"unsubscribe"],[34,51,32,49],[34,52,32,50,"onabort"],[34,59,32,57],[34,60,32,58],[34,63,32,61,"signal"],[34,69,32,67],[34,70,32,68,"removeEventListener"],[34,89,32,87],[34,90,32,88],[34,97,32,95],[34,99,32,97,"onabort"],[34,106,32,104],[34,107,32,105],[35,10,33,8],[35,11,33,9],[35,12,33,10],[36,10,34,8,"signals"],[36,17,34,15],[36,20,34,18],[36,24,34,22],[37,8,35,6],[38,6,36,4],[38,7,36,5],[39,6,38,4,"signals"],[39,13,38,11],[39,14,38,12,"forEach"],[39,21,38,19],[39,22,38,21,"signal"],[39,28,38,27],[39,32,38,32,"signal"],[39,38,38,38],[39,39,38,39,"addEventListener"],[39,55,38,55],[39,56,38,56],[39,63,38,63],[39,65,38,65,"onabort"],[39,72,38,72],[39,73,38,73],[39,74,38,74],[40,6,40,4],[40,12,40,10],[41,8,40,11,"signal"],[42,6,40,17],[42,7,40,18],[42,10,40,21,"controller"],[42,20,40,31],[43,6,42,4,"signal"],[43,12,42,10],[43,13,42,11,"unsubscribe"],[43,24,42,22],[43,27,42,25],[43,33,42,31,"utils"],[43,47,42,36],[43,48,42,37,"asap"],[43,52,42,41],[43,53,42,42,"unsubscribe"],[43,64,42,53],[43,65,42,54],[44,6,44,4],[44,13,44,11,"signal"],[44,19,44,17],[45,4,45,2],[46,2,46,0],[46,3,46,1],[47,2,46,1],[47,6,46,1,"_default"],[47,14,46,1],[47,17,46,1,"exports"],[47,24,46,1],[47,25,46,1,"default"],[47,32,46,1],[47,35,48,15,"composeSignals"],[47,49,48,29],[48,0,48,29],[48,3]],"functionMap":{"names":["<global>","composeSignals","onabort","setTimeout$argument_0","unsubscribe","signals.forEach$argument_0","signal.unsubscribe"],"mappings":"AAA;uBCI;oBCQ;KDO;sCEE;KFG;wBGE;wBCI;SDE;KHG;oBIE,qDJ;yBKI,6BL;CDI"}},"type":"js/module"}]}