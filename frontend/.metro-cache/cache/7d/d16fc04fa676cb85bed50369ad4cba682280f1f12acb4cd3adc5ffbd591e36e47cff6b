{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":39,"index":66}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":69,"index":136}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _axios = require(_dependencyMap[1]);\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[2]);\n  var Constants = _interopDefault(_expoConstants);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // Get backend URL from environment\n  // For development, use the proxy URL that redirects to backend\n  var BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || '';\n  console.log('API Config - Backend URL:', BACKEND_URL);\n\n  // Create axios instance\n  var api = axios.default.create({\n    baseURL: BACKEND_URL ? `${BACKEND_URL}/api` : '/api',\n    timeout: 30000,\n    // 30 secondes au lieu de 10\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Add auth token to requests\n  api.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (config) {\n      var token = yield AsyncStorage.default.getItem('auth_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), error => {\n    return Promise.reject(error);\n  });\n\n  // Handle response errors\n  api.interceptors.response.use(response => response, /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* (error) {\n      if (error.response?.status === 401) {\n        // Token expired or invalid\n        yield AsyncStorage.default.removeItem('auth_token');\n        // Redirect to login\n      }\n      return Promise.reject(error);\n    });\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  var _default = api;\n});","lineCount":78,"map":[[12,2,47,0,"Object"],[12,8,47,0],[12,9,47,0,"defineProperty"],[12,23,47,0],[12,24,47,0,"exports"],[12,31,47,0],[13,4,47,0,"enumerable"],[13,14,47,0],[14,4,47,0,"get"],[14,7,47,0],[14,18,47,0,"get"],[14,19,47,0],[15,6,47,0],[15,13,47,0,"_default"],[15,21,47,0],[16,4,47,0],[17,2,47,0],[18,2,12,0,"Object"],[18,8,12,0],[18,9,12,0,"defineProperty"],[18,23,12,0],[18,24,12,0,"exports"],[18,31,12,0],[19,4,12,0,"enumerable"],[19,14,12,0],[20,4,12,0,"get"],[20,7,12,0],[20,18,12,0,"get"],[20,19,12,0],[21,6,12,0],[21,13,12,0,"api"],[21,16,12,0],[22,4,12,0],[23,2,12,0],[24,2,18,3],[24,6,18,3,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,18,3],[24,45,18,3,"require"],[24,52,18,3],[24,53,18,3,"_dependencyMap"],[24,67,18,3],[25,2,18,3],[25,6,18,3,"_asyncToGenerator"],[25,23,18,3],[25,26,18,3,"_interopDefault"],[25,41,18,3],[25,42,18,3,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,18,3],[26,2,1,0],[26,6,1,0,"_axios"],[26,12,1,0],[26,15,1,0,"require"],[26,22,1,0],[26,23,1,0,"_dependencyMap"],[26,37,1,0],[27,2,1,0],[27,6,1,0,"axios"],[27,11,1,0],[27,14,1,0,"_interopDefault"],[27,29,1,0],[27,30,1,0,"_axios"],[27,36,1,0],[28,2,2,0],[28,6,2,0,"_expoConstants"],[28,20,2,0],[28,23,2,0,"require"],[28,30,2,0],[28,31,2,0,"_dependencyMap"],[28,45,2,0],[29,2,2,0],[29,6,2,0,"Constants"],[29,15,2,0],[29,18,2,0,"_interopDefault"],[29,33,2,0],[29,34,2,0,"_expoConstants"],[29,48,2,0],[30,2,3,0],[30,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[30,42,3,0],[30,45,3,0,"require"],[30,52,3,0],[30,53,3,0,"_dependencyMap"],[30,67,3,0],[31,2,3,0],[31,6,3,0,"AsyncStorage"],[31,18,3,0],[31,21,3,0,"_interopDefault"],[31,36,3,0],[31,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[31,73,3,0],[32,2,5,0],[33,2,6,0],[34,2,7,0],[34,6,7,6,"BACKEND_URL"],[34,17,7,17],[34,20,7,20,"Constants"],[34,29,7,29],[34,30,7,29,"default"],[34,37,7,29],[34,38,7,30,"expoConfig"],[34,48,7,40],[34,50,7,42,"extra"],[34,55,7,47],[34,57,7,49,"EXPO_PUBLIC_BACKEND_URL"],[34,80,7,72],[34,84,7,76],[34,86,7,78],[35,2,9,0,"console"],[35,9,9,7],[35,10,9,8,"log"],[35,13,9,11],[35,14,9,12],[35,41,9,39],[35,43,9,41,"BACKEND_URL"],[35,54,9,52],[35,55,9,53],[37,2,11,0],[38,2,12,7],[38,6,12,13,"api"],[38,9,12,16],[38,12,12,19,"axios"],[38,17,12,24],[38,18,12,24,"default"],[38,25,12,24],[38,26,12,25,"create"],[38,32,12,31],[38,33,12,32],[39,4,13,2,"baseURL"],[39,11,13,9],[39,13,13,11,"BACKEND_URL"],[39,24,13,22],[39,27,13,25],[39,30,13,28,"BACKEND_URL"],[39,41,13,39],[39,47,13,45],[39,50,13,48],[39,56,13,54],[40,4,14,2,"timeout"],[40,11,14,9],[40,13,14,11],[40,18,14,16],[41,4,14,18],[42,4,15,2,"headers"],[42,11,15,9],[42,13,15,11],[43,6,16,4],[43,20,16,18],[43,22,16,20],[44,4,17,2],[45,2,18,0],[45,3,18,1],[45,4,18,2],[47,2,20,0],[48,2,21,0,"api"],[48,5,21,3],[48,6,21,4,"interceptors"],[48,18,21,16],[48,19,21,17,"request"],[48,26,21,24],[48,27,21,25,"use"],[48,30,21,28],[49,4,21,28],[49,8,21,28,"_ref"],[49,12,21,28],[49,19,21,28,"_asyncToGenerator"],[49,36,21,28],[49,37,21,28,"default"],[49,44,21,28],[49,46,22,2],[49,57,22,9,"config"],[49,63,22,15],[49,65,22,20],[50,6,23,4],[50,10,23,10,"token"],[50,15,23,15],[50,24,23,24,"AsyncStorage"],[50,36,23,36],[50,37,23,36,"default"],[50,44,23,36],[50,45,23,37,"getItem"],[50,52,23,44],[50,53,23,45],[50,65,23,57],[50,66,23,58],[51,6,24,4],[51,10,24,8,"token"],[51,15,24,13],[51,17,24,15],[52,8,25,6,"config"],[52,14,25,12],[52,15,25,13,"headers"],[52,22,25,20],[52,23,25,21,"Authorization"],[52,36,25,34],[52,39,25,37],[52,49,25,47,"token"],[52,54,25,52],[52,56,25,54],[53,6,26,4],[54,6,27,4],[54,13,27,11,"config"],[54,19,27,17],[55,4,28,2],[55,5,28,3],[56,4,28,3],[56,21,28,3,"_x"],[56,23,28,3],[57,6,28,3],[57,13,28,3,"_ref"],[57,17,28,3],[57,18,28,3,"apply"],[57,23,28,3],[57,30,28,3,"arguments"],[57,39,28,3],[58,4,28,3],[59,2,28,3],[59,7,29,3,"error"],[59,12,29,8],[59,16,29,13],[60,4,30,4],[60,11,30,11,"Promise"],[60,18,30,18],[60,19,30,19,"reject"],[60,25,30,25],[60,26,30,26,"error"],[60,31,30,31],[60,32,30,32],[61,2,31,2],[61,3,32,0],[61,4,32,1],[63,2,34,0],[64,2,35,0,"api"],[64,5,35,3],[64,6,35,4,"interceptors"],[64,18,35,16],[64,19,35,17,"response"],[64,27,35,25],[64,28,35,26,"use"],[64,31,35,29],[64,32,36,3,"response"],[64,40,36,11],[64,44,36,16,"response"],[64,52,36,24],[65,4,36,24],[65,8,36,24,"_ref2"],[65,13,36,24],[65,20,36,24,"_asyncToGenerator"],[65,37,36,24],[65,38,36,24,"default"],[65,45,36,24],[65,47,37,2],[65,58,37,9,"error"],[65,63,37,14],[65,65,37,19],[66,6,38,4],[66,10,38,8,"error"],[66,15,38,13],[66,16,38,14,"response"],[66,24,38,22],[66,26,38,24,"status"],[66,32,38,30],[66,37,38,35],[66,40,38,38],[66,42,38,40],[67,8,39,6],[68,8,40,6],[68,14,40,12,"AsyncStorage"],[68,26,40,24],[68,27,40,24,"default"],[68,34,40,24],[68,35,40,25,"removeItem"],[68,45,40,35],[68,46,40,36],[68,58,40,48],[68,59,40,49],[69,8,41,6],[70,6,42,4],[71,6,43,4],[71,13,43,11,"Promise"],[71,20,43,18],[71,21,43,19,"reject"],[71,27,43,25],[71,28,43,26,"error"],[71,33,43,31],[71,34,43,32],[72,4,44,2],[72,5,44,3],[73,4,44,3],[73,21,44,3,"_x2"],[73,24,44,3],[74,6,44,3],[74,13,44,3,"_ref2"],[74,18,44,3],[74,19,44,3,"apply"],[74,24,44,3],[74,31,44,3,"arguments"],[74,40,44,3],[75,4,44,3],[76,2,44,3],[76,5,45,0],[76,6,45,1],[77,2,47,0],[77,6,47,0,"_default"],[77,14,47,0],[77,17,47,15,"api"],[77,20,47,18],[78,0,47,19],[78,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;ECqB;GDM;EEC;GFE;EGK,sBH;EIC;GJO"},"hasCjsExports":false},"type":"js/module"}]}