{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-linking","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":40,"index":106}}],"key":"UOn5wJuCXvTT9EneNUmI6H0GQgM=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":107},"end":{"line":3,"column":45,"index":152}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"SessionUrlProvider\", {\n    enumerable: true,\n    get: function () {\n      return SessionUrlProvider;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0]);\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1]);\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _expoConstants = require(_dependencyMap[2]);\n  var Constants = _interopDefault(_expoConstants);\n  var _expoLinking = require(_dependencyMap[3]);\n  var Linking = _interopNamespace(_expoLinking);\n  var _expoModulesCore = require(_dependencyMap[4]);\n  var SessionUrlProvider = /*#__PURE__*/function () {\n    function SessionUrlProvider() {\n      (0, _classCallCheck.default)(this, SessionUrlProvider);\n    }\n    return (0, _createClass.default)(SessionUrlProvider, [{\n      key: \"getDefaultReturnUrl\",\n      value: function getDefaultReturnUrl(urlPath, options) {\n        var queryParams = SessionUrlProvider.getHostAddressQueryParams();\n        var path = SessionUrlProvider.SESSION_PATH;\n        if (urlPath) {\n          path = [path, SessionUrlProvider.removeLeadingSlash(urlPath)].filter(Boolean).join('/');\n        }\n        return Linking.createURL(path, {\n          // The redirect URL doesn't matter for the proxy as long as it's valid, so silence warnings if needed.\n          scheme: options?.scheme ?? Linking.resolveScheme({\n            isSilent: true\n          }),\n          queryParams,\n          isTripleSlashed: options?.isTripleSlashed\n        });\n      }\n    }, {\n      key: \"getStartUrl\",\n      value: function getStartUrl(authUrl, returnUrl, projectNameForProxy) {\n        var queryString = new URLSearchParams({\n          authUrl,\n          returnUrl\n        });\n        return `${this.getRedirectUrl({\n          projectNameForProxy\n        })}/start?${queryString}`;\n      }\n    }, {\n      key: \"getRedirectUrl\",\n      value: function getRedirectUrl(options) {\n        var legacyExpoProjectFullName = options.projectNameForProxy || Constants.default.expoConfig?.originalFullName;\n        if (!legacyExpoProjectFullName) {\n          var nextSteps = '';\n          if (Constants.default.manifest2) {\n            nextSteps = \" Prefer AuthRequest in combination with an Expo Development Client build of your application. To continue using the AuthSession proxy, specify the project full name (@owner/slug) using the projectNameForProxy option.\";\n          }\n          throw new Error('Cannot use the AuthSession proxy because the project full name is not defined.' + nextSteps);\n        }\n        var redirectUrl = `${SessionUrlProvider.BASE_URL}/${legacyExpoProjectFullName}`;\n        return redirectUrl;\n      }\n    }], [{\n      key: \"getHostAddressQueryParams\",\n      value: function getHostAddressQueryParams() {\n        var hostUri = Constants.default.expoConfig?.hostUri;\n        if (!hostUri && (_expoConstants.ExecutionEnvironment.StoreClient === Constants.default.executionEnvironment || Linking.resolveScheme({}))) {\n          if (!Constants.default.linkingUri) {\n            hostUri = '';\n          } else {\n            // we're probably not using up-to-date xdl, so just fake it for now\n            // we have to remove the /--/ on the end since this will be inserted again later\n            hostUri = SessionUrlProvider.removeScheme(Constants.default.linkingUri).replace(/\\/--(\\/.*)?$/, '');\n          }\n        }\n        if (!hostUri) {\n          return undefined;\n        }\n        var uriParts = hostUri?.split('?');\n        try {\n          return Object.fromEntries(\n          // @ts-ignore: [Symbol.iterator] is indeed, available on every platform.\n          new URLSearchParams(uriParts?.[1]));\n        } catch {}\n        return undefined;\n      }\n    }, {\n      key: \"warnIfAnonymous\",\n      value: function warnIfAnonymous(id, url) {\n        if (id.startsWith('@anonymous/')) {\n          console.warn(`You are not currently signed in to Expo on your development machine. As a result, the redirect URL for AuthSession will be \"${url}\". If you are using an OAuth provider that requires adding redirect URLs to an allow list, we recommend that you do not add this URL -- instead, you should sign in to Expo to acquire a unique redirect URL. Additionally, if you do decide to publish this app using Expo, you will need to register an account to do it.`);\n        }\n      }\n    }, {\n      key: \"removeScheme\",\n      value: function removeScheme(url) {\n        return url.replace(/^[a-zA-Z0-9+.-]+:\\/\\//, '');\n      }\n    }, {\n      key: \"removeLeadingSlash\",\n      value: function removeLeadingSlash(url) {\n        return url.replace(/^\\//, '');\n      }\n    }]);\n  }();\n  SessionUrlProvider.BASE_URL = `https://auth.expo.io`;\n  SessionUrlProvider.SESSION_PATH = 'expo-auth-session';\n  var _default = new SessionUrlProvider();\n});","lineCount":140,"map":[[27,2,106,0,"Object"],[27,8,106,0],[27,9,106,0,"defineProperty"],[27,23,106,0],[27,24,106,0,"exports"],[27,31,106,0],[28,4,106,0,"enumerable"],[28,14,106,0],[29,4,106,0,"get"],[29,7,106,0],[29,18,106,0,"get"],[29,19,106,0],[30,6,106,0],[30,13,106,0,"_default"],[30,21,106,0],[31,4,106,0],[32,2,106,0],[33,2,4,0,"Object"],[33,8,4,0],[33,9,4,0,"defineProperty"],[33,23,4,0],[33,24,4,0,"exports"],[33,31,4,0],[34,4,4,0,"enumerable"],[34,14,4,0],[35,4,4,0,"get"],[35,7,4,0],[35,18,4,0,"get"],[35,19,4,0],[36,6,4,0],[36,13,4,0,"SessionUrlProvider"],[36,31,4,0],[37,4,4,0],[38,2,4,0],[39,2,105,1],[39,6,105,1,"_babelRuntimeHelpersClassCallCheck"],[39,40,105,1],[39,43,105,1,"require"],[39,50,105,1],[39,51,105,1,"_dependencyMap"],[39,65,105,1],[40,2,105,1],[40,6,105,1,"_classCallCheck"],[40,21,105,1],[40,24,105,1,"_interopDefault"],[40,39,105,1],[40,40,105,1,"_babelRuntimeHelpersClassCallCheck"],[40,74,105,1],[41,2,105,1],[41,6,105,1,"_babelRuntimeHelpersCreateClass"],[41,37,105,1],[41,40,105,1,"require"],[41,47,105,1],[41,48,105,1,"_dependencyMap"],[41,62,105,1],[42,2,105,1],[42,6,105,1,"_createClass"],[42,18,105,1],[42,21,105,1,"_interopDefault"],[42,36,105,1],[42,37,105,1,"_babelRuntimeHelpersCreateClass"],[42,68,105,1],[43,2,1,0],[43,6,1,0,"_expoConstants"],[43,20,1,0],[43,23,1,0,"require"],[43,30,1,0],[43,31,1,0,"_dependencyMap"],[43,45,1,0],[44,2,1,0],[44,6,1,0,"Constants"],[44,15,1,0],[44,18,1,0,"_interopDefault"],[44,33,1,0],[44,34,1,0,"_expoConstants"],[44,48,1,0],[45,2,2,0],[45,6,2,0,"_expoLinking"],[45,18,2,0],[45,21,2,0,"require"],[45,28,2,0],[45,29,2,0,"_dependencyMap"],[45,43,2,0],[46,2,2,0],[46,6,2,0,"Linking"],[46,13,2,0],[46,16,2,0,"_interopNamespace"],[46,33,2,0],[46,34,2,0,"_expoLinking"],[46,46,2,0],[47,2,3,0],[47,6,3,0,"_expoModulesCore"],[47,22,3,0],[47,25,3,0,"require"],[47,32,3,0],[47,33,3,0,"_dependencyMap"],[47,47,3,0],[48,2,3,45],[48,6,4,13,"SessionUrlProvider"],[48,24,4,31],[49,4,4,31],[49,13,4,31,"SessionUrlProvider"],[49,32,4,31],[50,6,4,31],[50,10,4,31,"_classCallCheck"],[50,25,4,31],[50,26,4,31,"default"],[50,33,4,31],[50,41,4,31,"SessionUrlProvider"],[50,59,4,31],[51,4,4,31],[52,4,4,31],[52,15,4,31,"_createClass"],[52,27,4,31],[52,28,4,31,"default"],[52,35,4,31],[52,37,4,31,"SessionUrlProvider"],[52,55,4,31],[53,6,4,31,"key"],[53,9,4,31],[54,6,4,31,"value"],[54,11,4,31],[54,13,7,4],[54,22,7,4,"getDefaultReturnUrl"],[54,41,7,23,"getDefaultReturnUrl"],[54,42,7,24,"urlPath"],[54,49,7,31],[54,51,7,33,"options"],[54,58,7,40],[54,60,7,42],[55,8,8,8],[55,12,8,14,"queryParams"],[55,23,8,25],[55,26,8,28,"SessionUrlProvider"],[55,44,8,46],[55,45,8,47,"getHostAddressQueryParams"],[55,70,8,72],[55,71,8,73],[55,72,8,74],[56,8,9,8],[56,12,9,12,"path"],[56,16,9,16],[56,19,9,19,"SessionUrlProvider"],[56,37,9,37],[56,38,9,38,"SESSION_PATH"],[56,50,9,50],[57,8,10,8],[57,12,10,12,"urlPath"],[57,19,10,19],[57,21,10,21],[58,10,11,12,"path"],[58,14,11,16],[58,17,11,19],[58,18,11,20,"path"],[58,22,11,24],[58,24,11,26,"SessionUrlProvider"],[58,42,11,44],[58,43,11,45,"removeLeadingSlash"],[58,61,11,63],[58,62,11,64,"urlPath"],[58,69,11,71],[58,70,11,72],[58,71,11,73],[58,72,11,74,"filter"],[58,78,11,80],[58,79,11,81,"Boolean"],[58,86,11,88],[58,87,11,89],[58,88,11,90,"join"],[58,92,11,94],[58,93,11,95],[58,96,11,98],[58,97,11,99],[59,8,12,8],[60,8,13,8],[60,15,13,15,"Linking"],[60,22,13,22],[60,23,13,23,"createURL"],[60,32,13,32],[60,33,13,33,"path"],[60,37,13,37],[60,39,13,39],[61,10,14,12],[62,10,15,12,"scheme"],[62,16,15,18],[62,18,15,20,"options"],[62,25,15,27],[62,27,15,29,"scheme"],[62,33,15,35],[62,37,15,39,"Linking"],[62,44,15,46],[62,45,15,47,"resolveScheme"],[62,58,15,60],[62,59,15,61],[63,12,15,63,"isSilent"],[63,20,15,71],[63,22,15,73],[64,10,15,78],[64,11,15,79],[64,12,15,80],[65,10,16,12,"queryParams"],[65,21,16,23],[66,10,17,12,"isTripleSlashed"],[66,25,17,27],[66,27,17,29,"options"],[66,34,17,36],[66,36,17,38,"isTripleSlashed"],[67,8,18,8],[67,9,18,9],[67,10,18,10],[68,6,19,4],[69,4,19,5],[70,6,19,5,"key"],[70,9,19,5],[71,6,19,5,"value"],[71,11,19,5],[71,13,20,4],[71,22,20,4,"getStartUrl"],[71,33,20,15,"getStartUrl"],[71,34,20,16,"authUrl"],[71,41,20,23],[71,43,20,25,"returnUrl"],[71,52,20,34],[71,54,20,36,"projectNameForProxy"],[71,73,20,55],[71,75,20,57],[72,8,25,8],[72,12,25,14,"queryString"],[72,23,25,25],[72,26,25,28],[72,30,25,32,"URLSearchParams"],[72,45,25,47],[72,46,25,48],[73,10,26,12,"authUrl"],[73,17,26,19],[74,10,27,12,"returnUrl"],[75,8,28,8],[75,9,28,9],[75,10,28,10],[76,8,29,8],[76,15,29,15],[76,18,29,18],[76,22,29,22],[76,23,29,23,"getRedirectUrl"],[76,37,29,37],[76,38,29,38],[77,10,29,40,"projectNameForProxy"],[78,8,29,60],[78,9,29,61],[78,10,29,62],[78,20,29,72,"queryString"],[78,31,29,83],[78,33,29,85],[79,6,30,4],[80,4,30,5],[81,6,30,5,"key"],[81,9,30,5],[82,6,30,5,"value"],[82,11,30,5],[82,13,31,4],[82,22,31,4,"getRedirectUrl"],[82,36,31,18,"getRedirectUrl"],[82,37,31,19,"options"],[82,44,31,26],[82,46,31,28],[83,8,41,8],[83,12,41,14,"legacyExpoProjectFullName"],[83,37,41,39],[83,40,41,42,"options"],[83,47,41,49],[83,48,41,50,"projectNameForProxy"],[83,67,41,69],[83,71,41,73,"Constants"],[83,80,41,82],[83,81,41,82,"default"],[83,88,41,82],[83,89,41,83,"expoConfig"],[83,99,41,93],[83,101,41,95,"originalFullName"],[83,117,41,111],[84,8,42,8],[84,12,42,12],[84,13,42,13,"legacyExpoProjectFullName"],[84,38,42,38],[84,40,42,40],[85,10,43,12],[85,14,43,16,"nextSteps"],[85,23,43,25],[85,26,43,28],[85,28,43,30],[86,10,54,12],[86,14,54,16,"Constants"],[86,23,54,25],[86,24,54,25,"default"],[86,31,54,25],[86,32,54,26,"manifest2"],[86,41,54,35],[86,43,54,37],[87,12,55,16,"nextSteps"],[87,21,55,25],[87,242,57,149],[88,10,58,12],[89,10,59,12],[89,16,59,18],[89,20,59,22,"Error"],[89,25,59,27],[89,26,59,28],[89,106,59,108],[89,109,59,111,"nextSteps"],[89,118,59,120],[89,119,59,121],[90,8,60,8],[91,8,61,8],[91,12,61,14,"redirectUrl"],[91,23,61,25],[91,26,61,28],[91,29,61,31,"SessionUrlProvider"],[91,47,61,49],[91,48,61,50,"BASE_URL"],[91,56,61,58],[91,60,61,62,"legacyExpoProjectFullName"],[91,85,61,87],[91,87,61,89],[92,8,66,8],[92,15,66,15,"redirectUrl"],[92,26,66,26],[93,6,67,4],[94,4,67,5],[95,6,67,5,"key"],[95,9,67,5],[96,6,67,5,"value"],[96,11,67,5],[96,13,68,4],[96,22,68,11,"getHostAddressQueryParams"],[96,47,68,36,"getHostAddressQueryParams"],[96,48,68,36],[96,50,68,39],[97,8,69,8],[97,12,69,12,"hostUri"],[97,19,69,19],[97,22,69,22,"Constants"],[97,31,69,31],[97,32,69,31,"default"],[97,39,69,31],[97,40,69,32,"expoConfig"],[97,50,69,42],[97,52,69,44,"hostUri"],[97,59,69,51],[98,8,70,8],[98,12,70,12],[98,13,70,13,"hostUri"],[98,20,70,20],[98,25,71,13,"ExecutionEnvironment"],[98,39,71,33],[98,40,71,33,"ExecutionEnvironment"],[98,60,71,33],[98,61,71,34,"StoreClient"],[98,72,71,45],[98,77,71,50,"Constants"],[98,86,71,59],[98,87,71,59,"default"],[98,94,71,59],[98,95,71,60,"executionEnvironment"],[98,115,71,80],[98,119,72,16,"Linking"],[98,126,72,23],[98,127,72,24,"resolveScheme"],[98,140,72,37],[98,141,72,38],[98,142,72,39],[98,143,72,40],[98,144,72,41],[98,145,72,42],[98,147,72,44],[99,10,73,12],[99,14,73,16],[99,15,73,17,"Constants"],[99,24,73,26],[99,25,73,26,"default"],[99,32,73,26],[99,33,73,27,"linkingUri"],[99,43,73,37],[99,45,73,39],[100,12,74,16,"hostUri"],[100,19,74,23],[100,22,74,26],[100,24,74,28],[101,10,75,12],[101,11,75,13],[101,17,76,17],[102,12,77,16],[103,12,78,16],[104,12,79,16,"hostUri"],[104,19,79,23],[104,22,79,26,"SessionUrlProvider"],[104,40,79,44],[104,41,79,45,"removeScheme"],[104,53,79,57],[104,54,79,58,"Constants"],[104,63,79,67],[104,64,79,67,"default"],[104,71,79,67],[104,72,79,68,"linkingUri"],[104,82,79,78],[104,83,79,79],[104,84,79,80,"replace"],[104,91,79,87],[104,92,79,88],[104,106,79,102],[104,108,79,104],[104,110,79,106],[104,111,79,107],[105,10,80,12],[106,8,81,8],[107,8,82,8],[107,12,82,12],[107,13,82,13,"hostUri"],[107,20,82,20],[107,22,82,22],[108,10,83,12],[108,17,83,19,"undefined"],[108,26,83,28],[109,8,84,8],[110,8,85,8],[110,12,85,14,"uriParts"],[110,20,85,22],[110,23,85,25,"hostUri"],[110,30,85,32],[110,32,85,34,"split"],[110,37,85,39],[110,38,85,40],[110,41,85,43],[110,42,85,44],[111,8,86,8],[111,12,86,12],[112,10,87,12],[112,17,87,19,"Object"],[112,23,87,25],[112,24,87,26,"fromEntries"],[112,35,87,37],[113,10,88,12],[114,10,89,12],[114,14,89,16,"URLSearchParams"],[114,29,89,31],[114,30,89,32,"uriParts"],[114,38,89,40],[114,41,89,43],[114,42,89,44],[114,43,89,45],[114,44,89,46],[114,45,89,47],[115,8,90,8],[115,9,90,9],[115,10,91,8],[115,16,91,14],[115,17,91,16],[116,8,92,8],[116,15,92,15,"undefined"],[116,24,92,24],[117,6,93,4],[118,4,93,5],[119,6,93,5,"key"],[119,9,93,5],[120,6,93,5,"value"],[120,11,93,5],[120,13,94,4],[120,22,94,11,"warnIfAnonymous"],[120,37,94,26,"warnIfAnonymous"],[120,38,94,27,"id"],[120,40,94,29],[120,42,94,31,"url"],[120,45,94,34],[120,47,94,36],[121,8,95,8],[121,12,95,12,"id"],[121,14,95,14],[121,15,95,15,"startsWith"],[121,25,95,25],[121,26,95,26],[121,39,95,39],[121,40,95,40],[121,42,95,42],[122,10,96,12,"console"],[122,17,96,19],[122,18,96,20,"warn"],[122,22,96,24],[122,23,96,25],[122,150,96,152,"url"],[122,153,96,155],[122,470,96,472],[122,471,96,473],[123,8,97,8],[124,6,98,4],[125,4,98,5],[126,6,98,5,"key"],[126,9,98,5],[127,6,98,5,"value"],[127,11,98,5],[127,13,99,4],[127,22,99,11,"removeScheme"],[127,34,99,23,"removeScheme"],[127,35,99,24,"url"],[127,38,99,27],[127,40,99,29],[128,8,100,8],[128,15,100,15,"url"],[128,18,100,18],[128,19,100,19,"replace"],[128,26,100,26],[128,27,100,27],[128,50,100,50],[128,52,100,52],[128,54,100,54],[128,55,100,55],[129,6,101,4],[130,4,101,5],[131,6,101,5,"key"],[131,9,101,5],[132,6,101,5,"value"],[132,11,101,5],[132,13,102,4],[132,22,102,11,"removeLeadingSlash"],[132,40,102,29,"removeLeadingSlash"],[132,41,102,30,"url"],[132,44,102,33],[132,46,102,35],[133,8,103,8],[133,15,103,15,"url"],[133,18,103,18],[133,19,103,19,"replace"],[133,26,103,26],[133,27,103,27],[133,32,103,32],[133,34,103,34],[133,36,103,36],[133,37,103,37],[134,6,104,4],[135,4,104,5],[136,2,104,5],[137,2,4,13,"SessionUrlProvider"],[137,20,4,31],[137,21,5,11,"BASE_URL"],[137,29,5,19],[137,32,5,22],[137,54,5,44],[138,2,4,13,"SessionUrlProvider"],[138,20,4,31],[138,21,6,11,"SESSION_PATH"],[138,33,6,23],[138,36,6,26],[138,55,6,45],[139,2,106,0],[139,6,106,0,"_default"],[139,14,106,0],[139,17,106,15],[139,21,106,19,"SessionUrlProvider"],[139,39,106,37],[139,40,106,38],[139,41,106,39],[140,0,106,40],[140,3]],"functionMap":{"names":["<global>","SessionUrlProvider","getDefaultReturnUrl","getStartUrl","getRedirectUrl","getHostAddressQueryParams","warnIfAnonymous","removeScheme","removeLeadingSlash"],"mappings":"AAA;OCG;ICG;KDY;IEC;KFU;IGC;KHoC;IIC;KJyB;IKC;KLI;IMC;KNE;IOC;KPE;CDC"},"hasCjsExports":false},"type":"js/module"}]}