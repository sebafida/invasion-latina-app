{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":39,"index":66}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":69,"index":136}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // Get backend URL from environment\n  // For development, use the proxy URL that redirects to backend\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || '';\n  console.log('API Config - Backend URL:', BACKEND_URL);\n\n  // Create axios instance\n  const api = axios.default.create({\n    baseURL: BACKEND_URL ? `${BACKEND_URL}/api` : '/api',\n    timeout: 30000,\n    // 30 secondes au lieu de 10\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Add auth token to requests\n  api.interceptors.request.use(async config => {\n    const token = await AsyncStorage.default.getItem('auth_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Handle response errors\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      await AsyncStorage.default.removeItem('auth_token');\n      // Redirect to login\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":66,"map":[[12,2,47,0,"Object"],[12,8,47,0],[12,9,47,0,"defineProperty"],[12,23,47,0],[12,24,47,0,"exports"],[12,31,47,0],[13,4,47,0,"enumerable"],[13,14,47,0],[14,4,47,0,"get"],[14,7,47,0],[14,18,47,0,"get"],[14,19,47,0],[15,6,47,0],[15,13,47,0,"_default"],[15,21,47,0],[16,4,47,0],[17,2,47,0],[18,2,12,0,"Object"],[18,8,12,0],[18,9,12,0,"defineProperty"],[18,23,12,0],[18,24,12,0,"exports"],[18,31,12,0],[19,4,12,0,"enumerable"],[19,14,12,0],[20,4,12,0,"get"],[20,7,12,0],[20,18,12,0,"get"],[20,19,12,0],[21,6,12,0],[21,13,12,0,"api"],[21,16,12,0],[22,4,12,0],[23,2,12,0],[24,2,1,0],[24,6,1,0,"_axios"],[24,12,1,0],[24,15,1,0,"require"],[24,22,1,0],[24,23,1,0,"_dependencyMap"],[24,37,1,0],[25,2,1,0],[25,6,1,0,"axios"],[25,11,1,0],[25,14,1,0,"_interopDefault"],[25,29,1,0],[25,30,1,0,"_axios"],[25,36,1,0],[26,2,2,0],[26,6,2,0,"_expoConstants"],[26,20,2,0],[26,23,2,0,"require"],[26,30,2,0],[26,31,2,0,"_dependencyMap"],[26,45,2,0],[27,2,2,0],[27,6,2,0,"Constants"],[27,15,2,0],[27,18,2,0,"_interopDefault"],[27,33,2,0],[27,34,2,0,"_expoConstants"],[27,48,2,0],[28,2,3,0],[28,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,3,0],[28,45,3,0,"require"],[28,52,3,0],[28,53,3,0,"_dependencyMap"],[28,67,3,0],[29,2,3,0],[29,6,3,0,"AsyncStorage"],[29,18,3,0],[29,21,3,0,"_interopDefault"],[29,36,3,0],[29,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,3,0],[30,2,5,0],[31,2,6,0],[32,2,7,0],[32,8,7,6,"BACKEND_URL"],[32,19,7,17],[32,22,7,20,"Constants"],[32,31,7,29],[32,32,7,29,"default"],[32,39,7,29],[32,40,7,30,"expoConfig"],[32,50,7,40],[32,52,7,42,"extra"],[32,57,7,47],[32,59,7,49,"EXPO_PUBLIC_BACKEND_URL"],[32,82,7,72],[32,86,7,76],[32,88,7,78],[33,2,9,0,"console"],[33,9,9,7],[33,10,9,8,"log"],[33,13,9,11],[33,14,9,12],[33,41,9,39],[33,43,9,41,"BACKEND_URL"],[33,54,9,52],[33,55,9,53],[35,2,11,0],[36,2,12,7],[36,8,12,13,"api"],[36,11,12,16],[36,14,12,19,"axios"],[36,19,12,24],[36,20,12,24,"default"],[36,27,12,24],[36,28,12,25,"create"],[36,34,12,31],[36,35,12,32],[37,4,13,2,"baseURL"],[37,11,13,9],[37,13,13,11,"BACKEND_URL"],[37,24,13,22],[37,27,13,25],[37,30,13,28,"BACKEND_URL"],[37,41,13,39],[37,47,13,45],[37,50,13,48],[37,56,13,54],[38,4,14,2,"timeout"],[38,11,14,9],[38,13,14,11],[38,18,14,16],[39,4,14,18],[40,4,15,2,"headers"],[40,11,15,9],[40,13,15,11],[41,6,16,4],[41,20,16,18],[41,22,16,20],[42,4,17,2],[43,2,18,0],[43,3,18,1],[43,4,18,2],[45,2,20,0],[46,2,21,0,"api"],[46,5,21,3],[46,6,21,4,"interceptors"],[46,18,21,16],[46,19,21,17,"request"],[46,26,21,24],[46,27,21,25,"use"],[46,30,21,28],[46,31,22,2],[46,37,22,9,"config"],[46,43,22,15],[46,47,22,20],[47,4,23,4],[47,10,23,10,"token"],[47,15,23,15],[47,18,23,18],[47,24,23,24,"AsyncStorage"],[47,36,23,36],[47,37,23,36,"default"],[47,44,23,36],[47,45,23,37,"getItem"],[47,52,23,44],[47,53,23,45],[47,65,23,57],[47,66,23,58],[48,4,24,4],[48,8,24,8,"token"],[48,13,24,13],[48,15,24,15],[49,6,25,6,"config"],[49,12,25,12],[49,13,25,13,"headers"],[49,20,25,20],[49,21,25,21,"Authorization"],[49,34,25,34],[49,37,25,37],[49,47,25,47,"token"],[49,52,25,52],[49,54,25,54],[50,4,26,4],[51,4,27,4],[51,11,27,11,"config"],[51,17,27,17],[52,2,28,2],[52,3,28,3],[52,5,29,3,"error"],[52,10,29,8],[52,14,29,13],[53,4,30,4],[53,11,30,11,"Promise"],[53,18,30,18],[53,19,30,19,"reject"],[53,25,30,25],[53,26,30,26,"error"],[53,31,30,31],[53,32,30,32],[54,2,31,2],[54,3,32,0],[54,4,32,1],[56,2,34,0],[57,2,35,0,"api"],[57,5,35,3],[57,6,35,4,"interceptors"],[57,18,35,16],[57,19,35,17,"response"],[57,27,35,25],[57,28,35,26,"use"],[57,31,35,29],[57,32,36,3,"response"],[57,40,36,11],[57,44,36,16,"response"],[57,52,36,24],[57,54,37,2],[57,60,37,9,"error"],[57,65,37,14],[57,69,37,19],[58,4,38,4],[58,8,38,8,"error"],[58,13,38,13],[58,14,38,14,"response"],[58,22,38,22],[58,24,38,24,"status"],[58,30,38,30],[58,35,38,35],[58,38,38,38],[58,40,38,40],[59,6,39,6],[60,6,40,6],[60,12,40,12,"AsyncStorage"],[60,24,40,24],[60,25,40,24,"default"],[60,32,40,24],[60,33,40,25,"removeItem"],[60,43,40,35],[60,44,40,36],[60,56,40,48],[60,57,40,49],[61,6,41,6],[62,4,42,4],[63,4,43,4],[63,11,43,11,"Promise"],[63,18,43,18],[63,19,43,19,"reject"],[63,25,43,25],[63,26,43,26,"error"],[63,31,43,31],[63,32,43,32],[64,2,44,2],[64,3,45,0],[64,4,45,1],[65,2,47,0],[65,6,47,0,"_default"],[65,14,47,0],[65,17,47,15,"api"],[65,20,47,18],[66,0,47,19],[66,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;ECqB;GDM;EEC;GFE;EGK,sBH;EIC;GJO"},"hasCjsExports":false},"type":"js/module"}]}